<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<!-- Mirrored from www.w3schools.com/w3css/tryw3css_templates_analytics.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Jun 2022 03:34:48 GMT -->
<head>
    <title>Quiz Admin</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" th:href="@{/access/Desing-1-32.png}">
    <link rel="stylesheet" href="/access/www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="/access/cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        html, body, h1, h2, h3, h4, h5 {
            font-family: "Raleway", sans-serif
        }
    </style>
</head>
<body th:with="active='test'">

<!-- Top container -->
<div class="w3-bar w3-top w3-black w3-large" style="z-index:4">
    <button class="w3-bar-item w3-button w3-hide-large w3-hover-none w3-hover-text-light-grey" onclick="w3_open();"><i
            class="fa fa-bars"></i> &nbsp;Menu
    </button>
    <span class="w3-bar-item w3-right">Logo</span>
</div>


<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar"><br>
    <div class="w3-container w3-row">
        <div class="w3-col s4">
            <img src="/access/www.w3schools.com/w3images/avatar2.png" class="w3-circle w3-margin-right"
                 style="width:46px">
        </div>
        <div class="w3-col s8 w3-bar">
            <span sec:authorize="isAuthenticated()">Welcome, <strong sec:authentication="name"></strong></span><br>
            <a th:href="@{/logout}" class="w3-bar-item w3-button"><i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;Logout</a>
        </div>
    </div>
    <span th:replace="~{/fragments/sideBar :: span}"></span>
</nav>


<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer"
     title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:300px;margin-top:43px;">

    <!-- Header -->
    <header class="w3-container w3-padding-24 w3-margin-bottom" style="padding-top:22px">
        <h5><b><i class="fa fa-dashboard"></i> My Dashboard</b></h5>
    </header>

    <div class="w3-container">
        <h2>Test Management</h2>

        <div class="w3-row">
            <div class="w3-col">
                <div class="w3-bar w3-light-grey">
                    <a th:href="@{/admin/test}" class="w3-bar-item w3-button">List</a>
                    <a th:href="@{/admin/test/new}" class="w3-bar-item w3-button w3-hide-small">Create New Test</a>

                    <div class="w3-bar-item w3-button w3-right">
                        <form class="w3-bar">
                            <input type="text" placeholder="Search here.....">
                            <button type="submit"><i class="fa fa-search"></i></button>
                        </form>
                    </div>
                </div>
                <br class="w3-hide-small">
            </div>
        </div>
        <table class="w3-table w3-hover-border-blue w3-hoverable w3-border">
            <div class="w3-light-gray w3-container">
                <h3 class="w3-center w3-margin">Edit Quiz</h3>
                <form th:action="@{/admin/test/update}" th:object="${test}" method="post">
                    <input type="hidden" th:field="*{id}">

                    <div class="w3-row-padding">
                        <div class="w3-col s8">
                            Test: <input class="w3-input" type="text" th:field="*{text}">
                            <p class="w3-text-red" th:errors="*{text}" th:if="${#fields.hasErrors('text')}"></p>
                        </div>
                        <div class="w3-col s2">
                            Duration: <input class="w3-input" type="number" th:field="*{duration}">
                        </div>
                        <div class="w3-col s2">
                            <label>Level:</label>
                            <select class="w3-select" th:field="*{level}" name="level">
                                <option th:each="levelList : ${levelList}" th:text="${levelList}"
                                        th:value="${levelList}">

                                </option>
                            </select>
                        </div>
                    </div>

                    <div class="w3-row-padding w3-margin-top ">
                        <div class="w3-col s8 ">
                            Subject:
                            <select class="w3-select subject-selector">
                                <option th:value="${subject.id}"
                                        th:each="subject, loopStt : ${subjectList}"
                                        th:selected="${(subject.id == test.course.subject.id) ? 'true':'false'}">
                                    <span th:text="${subject.name}"></span>
                                </option>
                            </select>
                            <div id="course-holder" style="margin-top: 15px">
                                Courses:
                                <input type="hidden" th:field="*{course}">
                                <select th:id="'course-'+${subject.id}" th:each="subject,loopStt: ${subjectList}"
                                        class="w3-select course-selector">
                                    <option th:value="${course.id}"
                                            th:each="course : ${subject.lstCourse}"
                                            th:selected="${(course.id == test.course.id) ? 'true':'false'}">
                                        <span name="course" th:value="${course.id}" th:text="${course.name}"></span>
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="w3-row-padding w3-margin-top">
                        <div class="w3-col ">
                            <button type="submit" class="w3-button w3-green">Update</button>
                            <a th:href="@{/admin/test}" class="w3-button w3-red">Cancel</a>
                        </div>
                    </div>

                    <div class="w3-row-padding w3-margin-top">
                        <div class="w3-col s8">
                            <h5>Questions</h5>
                            <table class="w3-table-all w3-bordered w3-striped w3-border test w3-hoverable"
                                   style="color:#000">
                                <tbody>
                                <tr class="w3-green">
                                    <th>Question</th>
                                    <th></th>
                                </tr>
                                </tbody>
                                <tbody>
                                <tr th:field="${questionList}" th:each="question : ${questionList}">
                                    <td th:text="${question.text}" th:value="${questionList}">

                                    </td>
                                    <td>
                                        <input type="checkbox"
                                               th:checked="${testService.isTestHasThisQuestion(test,question)}"
                                               name="selectedQuestion" th:value="${question.id}">
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                </form>

            </div>
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"
                    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
            <script th:src="@{/js/test.js}"></script>
        </table>
    </div>
    <div th:replace="~{/fragments/footer :: div}"></div>
</div>


</body>

<!-- Mirrored from www.w3schools.com/w3css/tryw3css_templates_analytics.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Jun 2022 03:34:50 GMT -->
</html>

