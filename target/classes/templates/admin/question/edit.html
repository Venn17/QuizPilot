<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns=""
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<!-- Mirrored from www.w3schools.com/w3css/tryw3css_templates_analytics.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Jun 2022 03:34:48 GMT -->
<head>
    <title>Quiz Admin</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" th:href="@{/access/Desing-1-32.png}">
    <link rel="stylesheet" href="/access/www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="/access/cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" th:href="@{/css/all.css}">
    <style>
        html, body, h1, h2, h3, h4, h5 {
            font-family: "Raleway", sans-serif
        }
    </style>
</head>
<body th:with="active='question'">

<!-- Top container -->
<div class="w3-bar w3-top w3-black w3-large" style="z-index:4">
    <button class="w3-bar-item w3-button w3-hide-large w3-hover-none w3-hover-text-light-grey" onclick="w3_open();"><i
            class="fa fa-bars"></i> &nbsp;Menu
    </button>
    <span class="w3-bar-item w3-right">Logo</span>
</div>


<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar"><br>
    <div class="w3-container w3-row">
        <div class="w3-col s4">
            <img src="/access/www.w3schools.com/w3images/avatar2.png" class="w3-circle w3-margin-right"
                 style="width:46px">
        </div>
        <div class="w3-col s8 w3-bar">
            <span sec:authorize="isAuthenticated()">Welcome, <strong sec:authentication="name"></strong></span><br>
            <a th:href="@{/logout}" class="w3-bar-item w3-button"><i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;Logout</a>
        </div>
    </div>
    <span th:replace="~{/fragments/sideBar :: span}"></span>
</nav>


<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer"
     title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:300px;margin-top:43px;">

    <!-- Header -->
    <header class="w3-container w3-padding-24 w3-margin-bottom" style="padding-top:22px">
        <h5><b>Edit question</b></h5>
    </header>

    <div class="w3-container" style="width: 75%;margin: 0 auto">

        <form class="w3-center w3-light-gray w3-padding-large" th:action="@{/admin/question/update}" th:method="POST"
              th:object="${question}">
            <input type="text" hidden="true" th:field="*{id}">
            <div class="w3-center">
                <label class="" th:for="title">Title</label>
                <input class="w3-input w3-border" placeholder="Title" type="text" th:id="title" th:field="*{text}">
                <div class="w3-red" th:errors="*{text}"></div>
            </div>

            <div class="w3-center w3-row w3-section">
                <div class="w3-col m4">
                    <label for="subject">Subject</label>
                    <select class="w3-select" name="" id="subject">
                        <option th:each="subject : ${subjectList}"
                                th:value="${subject.id}"
                                th:text="${subject.name}"
                                th:selected="${(subject.id == question.course.subject.id)?'true':'false'}">
                        </option>
                    </select>
                </div>
                <div class="w3-col m4 w3-row-padding">
                    <label for="course">Course</label>
                    <input type="hidden" th:field="*{course}">
                    <select th:each="subject,loopStt:${subjectList}"
                            th:class="'w3-select course-selector '+ ${ (loopStt.index == 0)?'w3-show':'w3-hide' } "
                            th:id="'course-of-'+${subject.id}">
                        <option th:each="course : ${subject.lstCourse}"
                                th:value="${course.id}"
                                th:selected="${(course.id == question.course.id)?true:false}"
                        >
                            <span th:text="${course.name}"></span>
                        </option>
                    </select>
                </div>
                <div class="w3-col m4 ">
                    <label for="level">Level</label>
                    <select class="w3-select" th:field="*{level}">
                        <option th:each="level,loopStt : ${levelList}" th:text="${level}" th:value="${level}"></option>
                    </select>
                </div>
            </div>

            <div class="w3-section">

                <div class="w3-row ">
                    <div class="w3-col m8">Answer</div>
                    <div class="w3-col m3">This is the correct answer</div>
                    <div class="w3-col m1"></div>
                </div>
                <div class="w3-row w3-center">
                    <div class="w3-col m8">
                        <div class="w3-text-red text-bold" th:errors="*{answers}"></div>
                    </div>
                    <div class="w3-col m3">
                        <div class="w3-text-red text-bold" th:errors="*{correctAnswer}"></div>
                    </div>
                    <div class="w3-col m1"></div>
                </div>
                <div id="answer-field" class="w3-center">
                    <div class="w3-row w3-section" th:each="answer,loopstt : ${question.answerList}"
                         th:id="${answer.text}">
                        <div class="w3-col m8">
                            <input class="w3-input w3-border" placeholder="Answer" th:value="${answer.text}" type="text"
                                   name="answers" th:id="answer1">

                        </div>
                        <div class="w3-col m3">
                            <input class="w3-radio" type="radio" name="correctAnswer" th:value="${loopstt.index+1}"
                                   th:checked="${answer.isCorrect}">

                        </div>
                        <div class="w3-col m1">
                            <button class="w3-button w3-red remove-answer-btn" th:removeIndex="${answer.text}"
                                    type="button">
                                <i class="fa fa-times" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>

                </div>
            </div>
            <div>
                <button type="button" class="w3-btn w3-green" id="add-more-answer">

                    <i class="fa fa-plus-circle" aria-hidden="true"></i>
                </button>
            </div>
            <div class="w3-section">
                <a class="w3-btn w3-gray w3-text-white" th:href="@{/admin/question/home}">Cancel</a>
                <button class="w3-btn w3-red" type="button" id="delete-btn">Delete</button>
                <button class="w3-btn w3-green" type="submit">Save</button>
            </div>
        </form>
    </div>
    <div th:replace="~{/fragments/footer :: div}"></div>
</div>

<div id="alert-block">
    <div class="alert-content">
        <div class="alert-header"><h3>Confirm delete</h3></div>
        <div class="alert-context">
            <p class="alert-info">Do you wish to delete this question</p>
            <div class="alert-detail w3-section"></div>
        </div>
        <div class="alert-decision">
            <button class="w3-button w3-gray" id="alert-btn-cancel">Cancel</button>
            <button class="w3-button w3-red" id="alert-btn-confirm">Confirm</button>
        </div>
    </div>
</div>

<script th:src="@{/js/everything.js}"></script>
</body>
<!-- Mirrored from www.w3schools.com/w3css/tryw3css_templates_analytics.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 15 Jun 2022 03:34:50 GMT -->
</html>

