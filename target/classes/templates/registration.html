<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Spring Quiz - registration</title>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" th:href="@{/access/registration.css}">
    <link rel="icon" type="image/x-icon" th:href="@{/access/Desing-1-32.png}">
    <style>

        .pass {
            position: relative;
        }

        #togglePass {
            position: absolute;
            top: 45%;
            right: 0;
            border: none;
            background: none;
        }
    </style>
</head>
<body>

<div class="w3-panel" align="center">
    <h4 align="center">Register new account </h4>

    <form class="w3-container w3-card  w3-light-grey" style="width:50%;"
          action="#" th:action="@{/registration}" th:object="${user}" method="post">


        <p align="left">
            <label th:for="username">Username: *</label>
            <input class="w3-input w3-border"
                   th:field="${user.name}" required/>
            <label class="w3-text-red"
                   th:errors="*{name}"> </label>
            <label class="w3-text-red"
                   th:text="${message}"> </label>
        </p>
        <p align="left">
            <label th:for="email">Email: *</label>
            <input class="w3-input w3-border"
                   type="email" th:field="${user.email}" required/>
            <label class="w3-text-red"
                   th:text="${emailerror}"> </label>
        </p>
        <p align="left" class="pass">
            <label th:for="password">Password: *</label>
            <input class="w3-input w3-border" id="passHidden"
                   type="password" th:field="${user.password}" required/>
            <button type="button" id="togglePass"><i class="fa fa-eye"></i></button>
        <div th:if="${error}">
            <p class="w3-center text-danger w3-text-red">[[${error}]]</p>
        </div>
        <div style="display:  inline-flex;">
            <p class="w3-margin-right">

                <a th:href="@{/admin/user}" class="w3-btn w3-block w3-red w3-m">Cancel</a>

            </p>
            <p class="w3-margin-left">
                <input class="w3-btn w3-block w3-green w3-m"
                       type="submit" value="Register"/>

            </p>
        </div>
    </form>
</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    var pass = document.querySelector('#passHidden');
    var toggleButton = document.querySelector('#togglePass');

    toggleButton.addEventListener('click', function () {
        var type = pass.getAttribute('type');
        type = pass.getAttribute('type') === 'password' ? 'text' : 'password';
        pass.setAttribute('type', type);
    })
</script>
</html>